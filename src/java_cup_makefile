ifeq (${IOPTMPBINDIR},)
IOPTMPBINDIR = /tmp/iopbin
endif

all: java_cup

updateDotParser: 
	java g2d.graph.JLex.Main g2d/graph/dotgrammar.lex
	mv g2d/graph/dotgrammar.lex.java g2d/graph/Yylex.java
	java g2d.graph.java_cup.Main g2d/graph/dotgrammar.cup
	mv parser.java g2d/graph/parser.java
	mv sym.java g2d/graph/sym.java

jlex:
	javac -source 1.2 -nowarn g2d/graph/JLex/Main.java

java_cup:
	javac -source 1.4 -d ${IOPTMPBINDIR} g2d/graph/java_cup/runtime/*a
	javac -source 1.4 -d ${IOPTMPBINDIR} g2d/graph/java_cup/*a



#to enable assertions  use java -ea
